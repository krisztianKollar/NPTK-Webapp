@model IEnumerable<nptk.Models.SignUp>

@{
    ViewBag.Title = "Jelentkezések";
}

<h2>@ViewBag.Title</h2>

<p>
    @Html.ActionLink("Jelentkezés hozzáadása", "Create")
</p>
<table class="table">

    @foreach (var group in Model.OrderByDescending(m => m.Tour.Date).GroupBy(m => m.Tour.Title))
    {
        <tr>
            <td>
                <span style="font-weight:600">@group.Key – @group.ElementAt(0).Tour.Date.ToString("yyyy. MM. dd.");</span> @group.ElementAt(0).Tour.Track
            </td>
        </tr>
        foreach (var item in group)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.User.FullName)
                </td>
                <td>
                    @Html.ActionLink("Szerkesztés", "Edit", new { id = item.SignUpID }) |
                    @Html.ActionLink("Részletek", "Details", new { id = item.SignUpID }) |
                    @Html.ActionLink("Törlés", "Delete", new { id = item.SignUpID })
                </td>
            </tr>
        }
    }
</table>
